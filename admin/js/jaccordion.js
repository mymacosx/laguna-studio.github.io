(function(e){function t(e,t){return function(){return e.apply(t,arguments)}}function n(t){if(!e.data(this,"ui-accordion"))return;var n=e.data(this,"ui-accordion");var r=n.options;r.running=t?0:--r.running;if(r.running)return;if(r.clearStyle){r.toShow.add(r.toHide).css({height:"",overflow:""})}e(this).triggerHandler("change.ui-accordion",[r.data],r.change)}function r(r,i,s,o,u){var a=e.data(this,"ui-accordion").options;a.toShow=r;a.toHide=i;a.data=s;var f=t(n,this);a.running=i.size()==0?r.size():i.size();if(a.animated){if(!a.alwaysOpen&&o){e.ui.accordion.animations[a.animated]({toShow:jQuery([]),toHide:i,complete:f,down:u,autoheight:a.autoheight})}else{e.ui.accordion.animations[a.animated]({toShow:r,toHide:i,complete:f,down:u,autoheight:a.autoheight})}}else{if(!a.alwaysOpen&&o){r.toggle()}else{i.hide();r.show()}f(true)}}function i(t){var n=e.data(this,"ui-accordion").options;if(n.disabled)return false;if(!t.target&&!n.alwaysOpen){n.active.parent().andSelf().toggleClass(n.selectedClass);var i=n.active.next(),s={instance:this,options:n,newHeader:jQuery([]),oldHeader:n.active,newContent:jQuery([]),oldContent:i},o=n.active=e([]);r.call(this,o,i,s);return false}var u=e(t.target);if(u.parents(n.header).length)while(!u.is(n.header))u=u.parent();var a=u[0]==n.active[0];if(n.running||n.alwaysOpen&&a)return false;if(!u.is(n.header))return;n.active.parent().andSelf().toggleClass(n.selectedClass);if(!a){u.parent().andSelf().addClass(n.selectedClass)}var o=u.next(),i=n.active.next(),s={instance:this,options:n,newHeader:u,oldHeader:n.active,newContent:o,oldContent:i},f=n.headers.index(n.active[0])>n.headers.index(u[0]);n.active=a?e([]):u;r.call(this,o,i,s,a,f);return false}function s(t,n){return n!=undefined?typeof n=="number"?t.filter(":eq("+n+")"):t.not(t.not(n)):n===false?e([]):t.filter(":eq(0)")}e.ui=e.ui||{};e.fn.extend({accordion:function(t,n){var r=Array.prototype.slice.call(arguments,1);return this.each(function(){if(typeof t=="string"){var n=e.data(this,"ui-accordion");n[t].apply(n,r)}else if(!e(this).is(".ui-accordion"))e.data(this,"ui-accordion",new e.ui.accordion(this,t))})},activate:function(e){return this.accordion("activate",e)}});e.ui.accordion=function(t,n){this.options=n=e.extend({},e.ui.accordion.defaults,n);this.element=t;e(t).addClass("ui-accordion");if(n.navigation){var r=e(t).find("a").filter(n.navigationFilter);if(r.length){if(r.filter(n.header).length){n.active=r}else{n.active=r.parent().parent().prev();r.addClass("current")}}}n.headers=e(t).find(n.header);n.active=s(n.headers,n.active);if(n.fillSpace){var o=e(t).parent().height();n.headers.each(function(){o-=e(this).outerHeight()});var u=0;n.headers.next().each(function(){u=Math.max(u,e(this).innerHeight()-e(this).height())}).height(o-u)}else if(n.autoheight){var o=0;n.headers.next().each(function(){o=Math.max(o,e(this).outerHeight())}).height(o)}n.headers.not(n.active||"").next().hide();n.active.parent().andSelf().addClass(n.selectedClass);if(n.event)e(t).bind(n.event+".ui-accordion",i)};e.ui.accordion.prototype={activate:function(e){i.call(this.element,{target:s(this.options.headers,e)[0]})},enable:function(){this.options.disabled=false},disable:function(){this.options.disabled=true},destroy:function(){this.options.headers.next().css("display","");if(this.options.fillSpace||this.options.autoheight){this.options.headers.next().css("height","")}e.removeData(this.element,"ui-accordion");e(this.element).removeClass("ui-accordion").unbind(".ui-accordion")}};e.extend(e.ui.accordion,{defaults:{selectedClass:"selected",alwaysOpen:true,animated:"slide",event:"click",header:"a",autoheight:true,running:0,navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()}},animations:{slide:function(t,n){t=e.extend({easing:"swing",duration:300},t,n);if(!t.toHide.size()){t.toShow.animate({height:"show"},t);return}var r=t.toHide.height(),i=t.toShow.height(),s=i/r;t.toShow.css({height:0,overflow:"hidden"}).show();t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate({height:"hide"},{step:function(n){var i=(r-n)*s;if(e.browser.msie||e.browser.opera){i=Math.ceil(i)}t.toShow.height(i)},duration:t.duration,easing:t.easing,complete:function(){if(!t.autoheight){t.toShow.css("height","auto")}t.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"bounceout":"swing",duration:e.down?1e3:200})},easeslide:function(e){this.slide(e,{easing:"easeinout",duration:700})}}})})(jQuery)