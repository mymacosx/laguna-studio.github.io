var ddaccordion={contentclassname:{},expandone:function(e,t){this.toggleone(e,t,"expand")},collapseone:function(e,t){this.toggleone(e,t,"collapse")},expandall:function(e){var t=jQuery;var n=t("."+e);t("."+this.contentclassname[e]+":hidden").each(function(){n.eq(parseInt(t(this).attr("contentindex"))).trigger("evt_accordion")})},collapseall:function(e){var t=jQuery;var n=t("."+e);t("."+this.contentclassname[e]+":visible").each(function(){n.eq(parseInt(t(this).attr("contentindex"))).trigger("evt_accordion")})},toggleone:function(e,t,n){var r=jQuery;var i=r("."+e).eq(t);var s=r("."+this.contentclassname[e]).eq(t);if(typeof n=="undefined"||n=="expand"&&s.is(":hidden")||n=="collapse"&&s.is(":visible"))i.trigger("evt_accordion")},expandit:function(e,t,n,r,i){this.transformHeader(e,n,"expand");t.slideDown(n.animatespeed,function(){n.onopenclose(e.get(0),parseInt(e.attr("headerindex")),t.css("display"),r);if(n.postreveal=="gotourl"&&i){var s=e.is("a")?e.get(0):e.find("a:eq(0)").get(0);if(s)setTimeout(function(){location=s.href},200)}})},collapseit:function(e,t,n,r){this.transformHeader(e,n,"collapse");t.slideUp(n.animatespeed,function(){n.onopenclose(e.get(0),parseInt(e.attr("headerindex")),t.css("display"),r)})},transformHeader:function(e,t,n){e.addClass(n=="expand"?t.cssclass.expand:t.cssclass.collapse).removeClass(n=="expand"?t.cssclass.collapse:t.cssclass.expand);if(t.htmlsetting.location=="src"){e=e.is("img")?e:e.find("img").eq(0);e.attr("src",n=="expand"?t.htmlsetting.expand:t.htmlsetting.collapse)}else if(t.htmlsetting.location=="prefix")e.find(".accordprefix").html(n=="expand"?t.htmlsetting.expand:t.htmlsetting.collapse);else if(t.htmlsetting.location=="suffix")e.find(".accordsuffix").html(n=="expand"?t.htmlsetting.expand:t.htmlsetting.collapse)},urlparamselect:function(e){var t=window.location.search.match(new RegExp(e+"=((\\d+)(,(\\d+))*)","i"));if(t!=null)t=RegExp.$1.split(",");return t},getCookie:function(e){var t=new RegExp(e+"=[^;]+","i");if(document.cookie.match(t))return document.cookie.match(t)[0].split("=")[1];return null},setCookie:function(e,t){document.cookie=e+"="+t+"; path=/"},init:function(e){document.write('<style type="text/css">\n');document.write("."+e.contentclass+"{display: none}\n");document.write("</style>");jQuery(document).ready(function(t){ddaccordion.urlparamselect(e.headerclass);var n=ddaccordion.getCookie(e.headerclass);ddaccordion.contentclassname[e.headerclass]=e.contentclass;e.cssclass={collapse:e.toggleclass[0],expand:e.toggleclass[1]};e.revealtype=e.revealtype||"click";e.revealtype=e.revealtype.replace(/mouseover/i,"mouseenter");if(e.revealtype=="clickgo"){e.postreveal="gotourl";e.revealtype="click"}if(typeof e.togglehtml=="undefined")e.htmlsetting={location:"none"};else e.htmlsetting={location:e.togglehtml[0],collapse:e.togglehtml[1],expand:e.togglehtml[2]};e.oninit=typeof e.oninit=="undefined"?function(){}:e.oninit;e.onopenclose=typeof e.onopenclose=="undefined"?function(){}:e.onopenclose;var r={};var i=ddaccordion.urlparamselect(e.headerclass)||(e.persiststate&&n!=null?n:e.defaultexpanded);if(typeof i=="string")i=i.replace(/c/ig,"").split(",");var s=t("."+e["contentclass"]);if(i.length==1&&i[0]=="-1")i=[];if(e["collapseprev"]&&i.length>1)i=[i.pop()];if(e["onemustopen"]&&i.length==0)i=[0];t("."+e["headerclass"]).each(function(n){if(/(prefix)|(suffix)/i.test(e.htmlsetting.location)&&t(this).html()!=""){t('<span class="accordprefix"></span>').prependTo(this);t('<span class="accordsuffix"></span>').appendTo(this)}t(this).attr("headerindex",n+"h");s.eq(n).attr("contentindex",n+"c");var o=s.eq(n);var u=typeof i[0]=="number"?n:n+"";if(jQuery.inArray(u,i)!=-1){if(e.animatedefault==false)o.show();ddaccordion.expandit(t(this),o,e,false);r={$header:t(this),$content:o}}else{o.hide();e.onopenclose(t(this).get(0),parseInt(t(this).attr("headerindex")),o.css("display"),false);ddaccordion.transformHeader(t(this),e,"collapse")}});t("."+e["headerclass"]).bind("evt_accordion",function(n,i){var o=s.eq(parseInt(t(this).attr("headerindex")));if(o.css("display")=="none"){ddaccordion.expandit(t(this),o,e,true,i);if(e["collapseprev"]&&r.$header&&t(this).get(0)!=r.$header.get(0)){ddaccordion.collapseit(r.$header,r.$content,e,true)}r={$header:t(this),$content:o}}else if(!e["onemustopen"]||e["onemustopen"]&&r.$header&&t(this).get(0)!=r.$header.get(0)){ddaccordion.collapseit(t(this),o,e,true)}});t("."+e["headerclass"]).bind(e.revealtype,function(){if(e.revealtype=="mouseenter"){clearTimeout(e.revealdelay);var n=parseInt(t(this).attr("headerindex"));e.revealdelay=setTimeout(function(){ddaccordion.expandone(e["headerclass"],n)},e.mouseoverdelay||0)}else{t(this).trigger("evt_accordion",[true]);return false}});t("."+e["headerclass"]).bind("mouseleave",function(){clearTimeout(e.revealdelay)});e.oninit(t("."+e["headerclass"]).get(),i);t(window).bind("unload",function(){t("."+e["headerclass"]).unbind();var n=[];t("."+e["contentclass"]+":visible").each(function(e){n.push(t(this).attr("contentindex"))});if(e.persiststate==true&&t("."+e["headerclass"]).length>0){n=n.length==0?"-1c":n;ddaccordion.setCookie(e.headerclass,n)}})})}}