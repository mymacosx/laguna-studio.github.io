var toggleElements_animating=false;(function(e){jQuery.fn.toggleElements=function(e){e=jQuery.extend({fxAnimation:"slide",fxSpeed:"normal",className:"toggler",removeTitle:true,showTitle:false,onClick:null,onHide:null,onShow:null},e);var t=e.onClick,n=e.onHide,r=e.onShow;if(e.fxAnimation!="slide"&&e.fxAnimation!="show"&&e.fxAnimation!="fade")e.fxAnimation="slide";this.each(function(){if(jQuery(this).attr("class").indexOf("opened")==-1){jQuery(this).hide()}});this.each(function(){wtitle="";wlinktext=jQuery(this).attr("title");if(e.showTitle==true)wtitle=wlinktext;if(e.removeTitle==true)jQuery(this).attr("title","");if(jQuery(this).attr("class").indexOf("opened")!=-1){jQuery(this).before('<a class="'+e.className+" "+e.className+'-opened" href="#" title="'+wtitle+'">'+wlinktext+"</a>");jQuery(this).addClass(e.className+"-c-opened")}else{jQuery(this).before('<a class="'+e.className+" "+e.className+'-closed" href="#" title="'+wtitle+'">'+wlinktext+"</a>");jQuery(this).addClass(e.className+"-c-closed")}jQuery(this).prev("a."+e.className).click(function(){if(toggleElements_animating)return false;thelink=this;jQuery(thelink)[0].blur();if(thelink.animating||toggleElements_animating)return false;toggleElements_animating=true;thelink.animating=true;if(typeof t=="function"&&t(thelink)===false){toggleElements_animating=false;thelink.animating=false;return false}if(jQuery(this).next().css("display")=="block"){jQuery(this).next().each(function(){if(e.fxAnimation=="slide")jQuery(this).slideUp(e.fxSpeed,function(){jQuery.toggleElementsHidden(this,e.className,n,thelink)});if(e.fxAnimation=="show")jQuery(this).hide(e.fxSpeed,function(){jQuery.toggleElementsHidden(this,e.className,n,thelink)});if(e.fxAnimation=="fade")jQuery(this).fadeOut(e.fxSpeed,function(){jQuery.toggleElementsHidden(this,e.className,n,thelink)})})}else{jQuery(this).next().each(function(){if(e.fxAnimation=="slide")jQuery(this).slideDown(e.fxSpeed,function(){jQuery.toggleElementsShown(this,e.className,r,thelink)});if(e.fxAnimation=="show")jQuery(this).show(e.fxSpeed,function(){jQuery.toggleElementsShown(this,e.className,r,thelink)});if(e.fxAnimation=="fade")jQuery(this).fadeIn(e.fxSpeed,function(){jQuery.toggleElementsShown(this,e.className,r,thelink)})})}return false})})};jQuery.toggleElementsHidden=function(e,t,n,r){jQuery(e).prev("a."+t).removeClass(t+"-opened").addClass(t+"-closed").blur();if(typeof n=="function")n(this);jQuery(e).removeClass(t+"-c-opened").addClass(t+"-c-closed");toggleElements_animating=false;r.animating=false};jQuery.toggleElementsShown=function(e,t,n,r){jQuery(e).prev("a."+t).removeClass(t+"-closed").addClass(t+"-opened").blur();if(typeof n=="function")n(this);jQuery(e).removeClass(t+"-c-closed").addClass(t+"-c-opened");toggleElements_animating=false;r.animating=false}})(jQuery)