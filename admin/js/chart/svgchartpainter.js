function SVGChartPainterFactory(){return new SVGChartPainter();}
function SVGChartPainter(){this.base=AbstractChartPainter;};SVGChartPainter.prototype=new AbstractChartPainter;SVGChartPainter.prototype.create=function(el){this.svg=el;this.w=this.svg.getAttribute('width');this.h=this.svg.getAttribute('height');};SVGChartPainter.prototype.init=function(xlen,ymin,ymax,xgd,ygd,bLegendLabels){this.calc(this.w,this.h,xlen,ymin,ymax,xgd,ygd);};SVGChartPainter.prototype.drawBackground=function(){while(this.svg.firstChild){this.svg.removeChild(this.svg.lastChild);}
this._drawRect('white',0,0,this.w,this.h);};SVGChartPainter.prototype.drawChart=function(){if(this.xgrid){for(i=this.xgrid;i<this.w;i+=this.xgrid){this._drawRect('silver',0+i,0,1,this.h-1);}}
if(this.ygrid){for(i=this.h-this.ygrid;i>0;i-=this.ygrid){this._drawRect('silver',1,0+i,this.w,1);}}};SVGChartPainter.prototype.drawAxis=function(){this._drawRect('black',0,0,1,this.h);this._drawRect('black',0,this.h-1,this.w,1);};SVGChartPainter.prototype.drawArea=function(color,values){var i,len,x,y,n,yoffset,path,o;n=this.range/this.h;yoffset=(this.ymin/n);len=values.length;if(len){x=1;path='M'+x+','+(this.h-1);y=this.h-(values[0]/n)+yoffset;path+=' L'+x+','+y;for(i=1;i<len;i++){y=this.h-(values[i]/n)+yoffset;x+=this.xstep;path+=' L'+x+','+y;}
path+=' L'+x+','+(this.h-1)+' Z';o=document.createElementNS('http://www.w3.org/2000/svg','path');o.setAttribute('stroke',color);o.setAttribute('fill',color);o.setAttribute('d',path);this.svg.appendChild(o);}};SVGChartPainter.prototype.drawLine=function(color,values){var i,len,x,y,n,yoffset,path,o;n=this.range/this.h;yoffset=(this.ymin/n);len=values.length;if(len){x=1;y=this.h-(values[0]/n)+yoffset;path='M'+x+','+y;for(i=1;i<len;i++){y=this.h-(values[i]/n)+yoffset;x+=this.xstep;path+=' L'+x+','+y;}
o=document.createElementNS('http://www.w3.org/2000/svg','path');o.setAttribute('stroke',color);o.setAttribute('fill','none');o.setAttribute('stroke-width','1px');o.setAttribute('d',path);this.svg.appendChild(o);}};SVGChartPainter.prototype.drawBars=function(color,values,xoffset,width){var i,len,x,y,n,yoffset;n=this.range/this.h;yoffset=(this.ymin/n);len=values.length;if(len){x=xoffset+1;for(i=0;i<len;i++){y=this.h-(values[i]/n);this._drawRect(color,x,y,width,this.h-y);x+=this.xstep;}}};SVGChartPainter.prototype._drawRect=function(color,x,y,w,h){var rect;rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('stroke','none');rect.setAttribute('fill',color);rect.setAttribute('x',x+'px');rect.setAttribute('y',y+'px');rect.setAttribute('width',w+'px');rect.setAttribute('height',h+'px');this.svg.appendChild(rect);};